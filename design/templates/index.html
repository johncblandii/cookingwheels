<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>
			Using Google Apps SMTP | Cookbook | ColdFusion on Wheels
		</title>
		<link rel="shortcut icon" type="image/x-icon" href="images/wheels-icon-16x16.png" />
		<link href="stylesheets/base.css" media="all" rel="stylesheet" type="text/css" />
		<link href="stylesheets/home.css" media="all" rel="stylesheet" type="text/css" />
		<link href="stylesheets/print.css" media="print" rel="stylesheet" type="text/css" /><!--[if IE]><link href="stylesheets/base_ie.css" media="all" rel="stylesheet" type="text/css" />
<![endif]-->
		<!--[if IE 6]><link href="stylesheets/base_ie6.css" media="all" rel="stylesheet" type="text/css" />
<![endif]-->

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js">
</script>
		<script type="text/javascript" src="http://cdn.jquerytools.org/1.1.1/jquery.tools.min.js">
</script>
		<script src="http://www.google.com/jsapi" type="text/javascript">
</script>
		<script src="javascripts/tiny_mce/jquery.tinymce.js" type="text/javascript">
</script>
		<script type="text/javascript" src="javascripts/init.js?200901250704">
</script>
		<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en">
</script>
		<meta name="verify-v1" content="lr62spbjTwfzF6tzGhCR+WvuJHNUEe4F9T6H0m4T7XM=" />
		<link rel="alternate" type="application/rss+xml" title="ColdFusion on Wheels Site Updates" href="http://feeds.cfwheels.org/cfwheels" />
	</head>
	<body>
		<script type="text/javascript" src="http://www.google-analytics.com/ga.js">
</script><script type="text/javascript">
//<![CDATA[
		var pageTracker = _gat._getTracker("UA-3914949-1");
		pageTracker._setDomainName("none");
		pageTracker._setAllowLinker(true);
		pageTracker._trackPageview();
		//]]>
		</script>
		<div id="wrapper">
			<div id="header">
				<div id="logo">
					<a class="image" href="/" title="Home"><img alt="ColdFusion on Wheels" height="121" src="images/cfwheels-logo.png" width="93" /></a>
				</div>
				<div id="tagline">
					An open source <abbr title="ColdFusion Markup Language">CFML</abbr> framework<br />
					inspired by Ruby on Rails.
				</div>
				<div id="utility">
					<ul class="inline">
						<li class="first">
							<strong>Welcome, guest!</strong>
						</li>
						<li>
							<a href="/user/login">Sign up</a>
						</li>
						<li>
							<a href="/user/login">Log in</a>
						</li>
						<li class="first">
							<div id="site-search">
								<form action="/search" id="cse-search-box" method="get">
									<div>
										<input type="hidden" name="cx" value="005724978648843866544:jpej79qhz14" /> <input type="hidden" name="cof" value="FORID:10" /> <input type="hidden" name="ie" value="UTF-8" /> <input id="search-query" type="text" name="q" /> <input type="submit" name="sa" value="Search" />
									</div>
								</form>
							</div>
						</li>
					</ul>
				</div>
				<div id="global-navigation">
					<ul>
						<li>
							<a href="/download">Download</a>
						</li>
						<li>
							<a href="/plugins">Plugins</a>
						</li>
						<li>
							<a href="/docs">Documentation</a>
						</li>
						<li>
							<a href="/community">Community</a>
						</li>
						<li>
							<a href="/events">Events</a>
						</li>
						<li>
							<a href="/blog">Blog</a>
						</li>
					</ul>
				</div>
				<div id="breadcrumbs">
					<div id="feeds">
						<a href="/feeds">Feeds</a>
					</div><a href="/">Home</a> / <a href="/docs">Documentation</a> / <a href="/blah">Cookbook</a> / <strong>Recipe: Using Google Apps SMTP</strong>
				</div>
			</div>
			<div id="contentWrapper" class="content">
				<div id="content">
					<div id="local-navigation">
						<h1>
							Cookbook
						</h1>
						<p id="introduction" style="line-height: .">
							Get'cha cook on!
						</p>
						
						<h3>
							[subnav title]
						</h3>
						<ul>
							<li>
								<a href="/docs/cookbook/addrecipe">Create a Recipe</a> [&lt;-- replace w/ image]
							</li>
							<li>
								<a href="/docs/cookbook/edit/a3xdf">Edit Recipe</a> [&lt;-- only recipe creator]
							</li>
						</ul>
						<h3>
							Tags
						</h3>
						<ul>
							<li>
								<a href="/docs/cookbook/tag/controller">controller</a>
							</li>
							<li>
								<a href="/docs/cookbook/tag/email">email</a>
							</li>
							<li>
								<a href="/docs/cookbook/tag/google">google</a>
							</li>
							<li>
								<a href="/docs/cookbook/tag/gmail">gmail</a>
							</li>
						</ul>
						<h3>
							Related Recipes
						</h3>
						<ul>
							<li>
								<a href="/docs/cookbook/">Sending emails from Google</a>
							</li>
							<li>
								<a href="/docs/cookbook/">Recipe 2</a>
							</li>
						</ul>
						<h3>
							Latest Recipes
						</h3>
						<ul>
							<li>
								<a href="/docs/cookbook/">Recipe 10</a>
							</li>
							<li>
								<a href="/docs/cookbook/">Recipe 11</a>
							</li>
						</ul>
					</div>
					<div class="has-local-navigation">
						<h1>
							Recipe: Using Google Apps SMTP
						</h1>
						<p class="recipe-utility">March 9, 2009 @ 10:03 AM by <a href="/user/profile/3">raulriera</a></p>
						<p>
							You have a Google Apps account and wish to send emails using their SMTP servers.
						</p>
						<h3>
							Solution
						</h3>
						<p>
							Use the sendEmail() function and specify the useSSL, server, and port attributes to match gmail's requirements.
						</p>
						<h3>
							Detailed explanation
						</h3>
						<p>
							The sendEmail() function wraps around the CFMAIL tag and because GMail's servers require a secure connection you need to specify the following code in your /config/settings.cfm file (or in the appropriate Wheels environment)
						</p><code>&lt;cfset set(functionName="sendEmail", server="smtp.gmail.com", username="yourEmail@yourwebsite.com", password="yourPassword", port="587", useTLS="yes") /&gt;</code>
						<p>
							The previous piece of code will set a default setting for all the sendEmail() functions used in your application, so all that is left is send the desired email from your controller like so:
						</p><code>&lt;cfset sendEmail(from="yourEmail@yourwebsite.com", to="recipient@hiswebsite.com, subject="Email subject", template="yourEmailTemplateViewFile", type="html") /&gt;</code>
						<p>
							Remember that the content of the email will be stored in the file you pass into the template argument. A quick "gotcha" moment: by default the type argument is set to "text" in the CFMAIL tag, so be sure to pass in type="html" if your emails will be formatted.
						</p>
					<div id="comments">
						<h2>
							Comments
						</h2>
						<p>
							Read and submit questions, clarifications, and corrections about this chapter.
						</p>
						<p>
							There are no comments for this chapter. Be the first to comment!
						</p>
						<form action="/docs/comment#add-comment" id="add-comment" method="post">
							<fieldset>
								<legend>Add Comment</legend>
								<div>
									<label for="comment-name">Your Name</label><input id="comment-name" name="comment[name]" type="text" value="" />
								</div>
								<div>
									<label for="comment-email">Email</label><input id="comment-email" name="comment[email]" type="text" value="" />
								</div>
								<div>
									<label for="comment-url">Website</label><input id="comment-url" name="comment[url]" type="text" value="" />
								</div>
								<div>
									<label for="comment-comments">Comments</label>
									<textarea id="comment-comments" name="comment[comments]">
</textarea>
								</div>
								<div>
									<script type="text/javascript">
//<![CDATA[
										<!--
											var RecaptchaOptions = {
												theme : 'clean',
											};
										//-->
									//]]>
									</script> <label for="recaptcha_response_field">Type the two words:</label> <script type="text/javascript" src="http://api.recaptcha.net/challenge?k=6Lf-0gkAAAAAAHgC850bY413tsXIPe73wgW-yGYc">
</script> <noscript><iframe src="http://api.recaptcha.net/noscript?k=6Lf-0gkAAAAAAHgC850bY413tsXIPe73wgW-yGYc" height="300" width="500" frameborder="0"></iframe><br />
									<textarea name="recaptcha_challenge_field" rows="3" cols="40">
</textarea> <input type="hidden" name="recaptcha_response_field" value="manual_challenge" /></noscript>
								</div>
								<div>
									<input id="chapter-id" name="chapter[id]" type="hidden" value="1" /> <input type="submit" value="Submit Comment" />
								</div>
							</fieldset>
						</form>
					</div>
					</div>
				</div>
			</div>
			<div id="footer">
				<div class="content">
					<p id="hosting">
						<a href="http://www.viviotech.net/">ColdFusion hosting</a> provided by<br />
						<img alt="Vivio icon" height="16" src="images/vivio_icon.png" width="16" /> Vivio Technologies.
					</p>
					<p class="copyright">
						Â© 2010 ColdFusion on Wheels<br />
						Wheels is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
					</p>
				</div>
			</div>
		</div><script type="text/javascript">
//<![CDATA[
		var uservoiceOptions = {
		/* required */
		key: 'cfwheelsorg',
		host: 'cfwheelsorg.uservoice.com',
		forum: '38297',
		showTab: true,
		/* optional */
		alignment: 'left',
		background_color:'#b00701',
		text_color: 'white',
		hover_color: '#f46e65',
		lang: 'en'
		};

		function _loadUserVoice() {
		var s = document.createElement('script');
		s.setAttribute('type', 'text/javascript');
		s.setAttribute('src', ("https:" == document.location.protocol ? "https://" : "http://") + "cdn.uservoice.com/javascripts/widgets/tab.js");
		document.getElementsByTagName('head')[0].appendChild(s);
		}
		_loadSuper = window.onload;
		window.onload = (typeof window.onload != 'function') ? _loadUserVoice : function() { _loadSuper(); _loadUserVoice(); };
		//]]>
		</script>
	</body>
</html>
